{"ast":null,"code":"import _slicedToArray from\"C:/Users/abhis/OneDrive/Desktop/FUCK/myapps/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function usePrevious(value){var ref=useRef();useEffect(function(){ref.current=value;});return ref.current;}export default function Todo(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditing=_useState2[0],setEditing=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),newName=_useState4[0],setNewName=_useState4[1];var editFieldRef=useRef(null);var editButtonRef=useRef(null);var wasEditing=usePrevious(isEditing);function handleChange(e){setNewName(e.target.value);}function handleSubmit(e){e.preventDefault();if(!newName.trim()){return;}props.editTask(props.id,newName);setNewName(\"\");setEditing(false);}var editingTemplate=/*#__PURE__*/_jsxs(\"form\",{className:\"stack-small\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"todo-label\",htmlFor:props.id,children:[\"New name for \",props.name]}),/*#__PURE__*/_jsx(\"input\",{id:props.id,className:\"todo-text\",type:\"text\",value:newName||props.name,onChange:handleChange,ref:editFieldRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn todo-cancel\",onClick:function onClick(){return setEditing(false);},children:[\"Cancel\",/*#__PURE__*/_jsxs(\"span\",{className:\"visually-hidden\",children:[\"renaming \",props.name]})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"btn btn__primary todo-edit\",children:[\"Save\",/*#__PURE__*/_jsxs(\"span\",{className:\"visually-hidden\",children:[\"new name for \",props.name]})]})]})]});var viewTemplate=/*#__PURE__*/_jsxs(\"div\",{className:\"stack-small\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"c-cb\",children:[/*#__PURE__*/_jsx(\"input\",{id:props.id,type:\"checkbox\",defaultChecked:props.completed,onChange:function onChange(){return props.toggleTaskCompleted(props.id);}}),/*#__PURE__*/_jsx(\"label\",{className:\"todo-label\",htmlFor:props.id,children:props.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-group\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn\",onClick:function onClick(){return setEditing(true);},ref:editButtonRef,children:[\"Edit \",/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:props.name})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn__danger\",onClick:function onClick(){return props.deleteTask(props.id);},children:[\"Delete \",/*#__PURE__*/_jsx(\"span\",{className:\"visually-hidden\",children:props.name})]})]})]});useEffect(function(){if(!wasEditing&&isEditing){editFieldRef.current.focus();}if(wasEditing&&!isEditing){editButtonRef.current.focus();}},[wasEditing,isEditing]);return/*#__PURE__*/_jsx(\"li\",{className:\"todo\",children:isEditing?editingTemplate:viewTemplate});}","map":{"version":3,"names":["React","useEffect","useRef","useState","usePrevious","value","ref","current","Todo","props","isEditing","setEditing","newName","setNewName","editFieldRef","editButtonRef","wasEditing","handleChange","e","target","handleSubmit","preventDefault","trim","editTask","id","editingTemplate","name","viewTemplate","completed","toggleTaskCompleted","deleteTask","focus"],"sources":["C:/Users/abhis/OneDrive/Desktop/FUCK/myapps/src/components/Todo.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\n\r\n\r\nfunction usePrevious(value) {\r\n  const ref = useRef();\r\n  useEffect(() => {\r\n    ref.current = value;\r\n  });\r\n  return ref.current;\r\n}\r\n\r\nexport default function Todo(props) {\r\n  const [isEditing, setEditing] = useState(false);\r\n  const [newName, setNewName] = useState('');\r\n\r\n  const editFieldRef = useRef(null);\r\n  const editButtonRef = useRef(null);\r\n\r\n  const wasEditing = usePrevious(isEditing);\r\n\r\n  function handleChange(e) {\r\n    setNewName(e.target.value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!newName.trim()) {\r\n      return;\r\n    }\r\n    props.editTask(props.id, newName);\r\n    setNewName(\"\");\r\n    setEditing(false);\r\n  }\r\n\r\n  const editingTemplate = (\r\n    <form className=\"stack-small\" onSubmit={handleSubmit}>\r\n      <div className=\"form-group\">\r\n        <label className=\"todo-label\" htmlFor={props.id}>\r\n          New name for {props.name}\r\n        </label>\r\n        <input\r\n          id={props.id}\r\n          className=\"todo-text\"\r\n          type=\"text\"\r\n          value={newName || props.name}\r\n          onChange={handleChange}\r\n          ref={editFieldRef}\r\n        />\r\n      </div>\r\n      <div className=\"btn-group\">\r\n\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn todo-cancel\"\r\n          onClick={() => setEditing(false)}\r\n        >\r\n          Cancel\r\n          <span className=\"visually-hidden\">renaming {props.name}</span>\r\n        </button>\r\n        <button type=\"submit\" className=\"btn btn__primary todo-edit\">\r\n          Save\r\n          <span className=\"visually-hidden\">new name for {props.name}</span>\r\n        </button>\r\n      </div>\r\n    </form>\r\n  );\r\n\r\n  const viewTemplate = (\r\n    <div className=\"stack-small\">\r\n      <div className=\"c-cb\">\r\n          <input\r\n            id={props.id}\r\n            type=\"checkbox\"\r\n            defaultChecked={props.completed}\r\n            onChange={() => props.toggleTaskCompleted(props.id)}\r\n          />\r\n          <label className=\"todo-label\" htmlFor={props.id}>\r\n            {props.name}\r\n          </label>\r\n        </div>\r\n        <div className=\"btn-group\">\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn\"\r\n          onClick={() => setEditing(true)}\r\n          ref={editButtonRef}\r\n          >\r\n            Edit <span className=\"visually-hidden\">{props.name}</span>\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn__danger\"\r\n            onClick={() => props.deleteTask(props.id)}\r\n          >\r\n            Delete <span className=\"visually-hidden\">{props.name}</span>\r\n          </button>\r\n        </div>\r\n    </div>\r\n  );\r\n\r\n\r\n  useEffect(() => {\r\n    if (!wasEditing && isEditing) {\r\n      editFieldRef.current.focus();\r\n    }\r\n    if (wasEditing && !isEditing) {\r\n      editButtonRef.current.focus();\r\n    }\r\n  }, [wasEditing, isEditing]);\r\n\r\n\r\n  return <li className=\"todo\">{isEditing ? editingTemplate : viewTemplate}</li>;\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}